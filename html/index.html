<html>
<head>
  <title>DEMO</title>
  <script src="jquery.min.js"></script>
</head>
<body>
URL1: <input type="text" class="url" /><br />
URL2: <input type="text" class="url" /><br />
URL3: <input type="text" class="url" /><br />
URL4: <input type="text" class="url" /><br />
URL5: <input type="text" class="url" /><br />
URL6: <input type="text" class="url" /><br />
URL7: <input type="text" class="url" /><br />
URL8: <input type="text" class="url" /><br />
URL9: <input type="text" class="url" /><br />
URL10: <input type="text" class="url" /><br />
<br />
<input type="button" id="check" value="check" />
<div id="result"></div>
<script>
  var results = [];

  $('#check').on('click', function () {
    var urls = [];
    $('.url').each(function (index, ele) {
      var value = ele.value;
      if (value !== '') urls.push(value);
    });
    if (urls.length) {
      $.post('/api', { urls: urls, campaignId: 'akdlsjvieowqjwefr' }, function (data) {
        results = Array.prototype.concat.apply(results, data.urls);
        var html = ""
          , result;
        for(var i = results.length; i--;){
          result = results[i];
          if (result.status) {
            html += [
              '<h3>',
              result.url,
              '</h3>',
              '<p>title: ',
              result.title,
              '</p><p>description: ',
              result.description,
              '</p>image: <a href="',
              result.image,
              '" target="_blank">',
              result.image,
              '</a></p>'
            ].join('');
          } else {
            html += [
              '<h3>',
              result.url,
              '</h3>',
              '<p>This url may unavailable, please check it and update a new one.</p>'
            ].join('');
          }
        }
        $('#result').html(html);
        if (!data.finished) _next(data.campaignId);
        if (data.finished) results = [];
      });
    }
  })

  function _next(campaignId) {
    $.post('/api', { campaignId: campaignId }, function (data) {
      results = Array.prototype.concat.apply(results, data.urls);
      var html = ""
        , result;
      for(var i = results.length; i--;){
        result = results[i];
        if (result.status) {
          html += [
            '<h3>',
            result.url,
            '</h3>',
            '<p>title: ',
            result.title,
            '</p><p>description: ',
            result.description,
            '</p>image: <a href="',
            result.image,
            '" target="_blank">',
            result.image,
            '</a></p>'
          ].join('');
        } else {
          html += [
            '<h3>',
            result.url,
            '</h3>',
            '<p>This url may unavailable, please check it and update a new one.</p>'
          ].join('');
        }
      }
      $('#result').html(html);
      if (!data.finished) _next(data.campaignId);
      if (data.finished) results = [];
    });
  }
</script>

</body>
</html>